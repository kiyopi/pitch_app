# ãƒšãƒ¼ã‚¸é·ç§»å¾Œãƒã‚¤ã‚¯è¨±å¯ãƒ•ãƒ­ãƒ¼ä»•æ§˜æ›¸ v2.0

**ç‰ˆæ•°**: v2.0 (å†è¨­è¨ˆç‰ˆ)  
**ä½œæˆæ—¥**: 2025-07-15  
**å¯¾è±¡**: ãƒšãƒ¼ã‚¸é·ç§»å¾Œå³åº§ãƒã‚¤ã‚¯è¨±å¯æ©Ÿèƒ½ï¼ˆå†å®Ÿè£…ï¼‰  
**åŸºç›¤**: å®‰å®šå®Ÿè£… 58c6b84 + åˆå›å®Ÿè£…ã‹ã‚‰ã®å­¦ç¿’äº‹é …  

---

## ğŸ“‹ ç›®æ¬¡

1. [çµŒç·¯ãƒ»è¨­è¨ˆæ–¹é‡](#1-çµŒç·¯è¨­è¨ˆæ–¹é‡)
2. [UIçŠ¶æ…‹é·ç§»è¨­è¨ˆ](#2-uiçŠ¶æ…‹é·ç§»è¨­è¨ˆ)
3. [åˆæœŸåŒ–ã‚·ãƒ¼ã‚±ãƒ³ã‚¹è¨­è¨ˆ](#3-åˆæœŸåŒ–ã‚·ãƒ¼ã‚±ãƒ³ã‚¹è¨­è¨ˆ)
4. [ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹åˆ†æ](#4-ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹åˆ†æ)
5. [æŠ€è¡“ä»•æ§˜](#5-æŠ€è¡“ä»•æ§˜)
6. [å®Ÿè£…è¨ˆç”»](#6-å®Ÿè£…è¨ˆç”»)
7. [å“è³ªä¿è¨¼](#7-å“è³ªä¿è¨¼)

---

## 1. çµŒç·¯ãƒ»è¨­è¨ˆæ–¹é‡

### 1.1 ç¾åœ¨ã®å®‰å®šç‰ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼åˆ†æ

#### **ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œæ‰‹é †ï¼ˆ58c6b84ï¼‰**
```
1. ã€index.htmlã€‘ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯
   â†“ selectMode('random') â†’ window.location.href = 'full-scale-training.html?auto=true'
2. ã€é·ç§»ã€‘full-scale-training.html?auto=trueèª­ã¿è¾¼ã¿
   â†“ URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åˆ¤å®šãƒ»è‡ªå‹•å‡¦ç†é–‹å§‹
3. ã€è‡ªå‹•å‡¦ç†ã€‘åŸºéŸ³é¸æŠãƒ»UIæº–å‚™ãƒ»ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¡¨ç¤º
   â†“ setupTraining()å®Ÿè¡Œ
4. ã€è¡¨ç¤ºã€‘ğŸ¹ ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆåŸºéŸ³åï¼‰ãƒœã‚¿ãƒ³ï¼ˆãƒ‘ãƒ«ã‚¹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰
   â†“ ãƒ¦ãƒ¼ã‚¶ãƒ¼å¾…æ©ŸçŠ¶æ…‹
5. ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã€‘ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â˜…é‡è¦ï¼šã“ã“ã§åˆã‚ã¦ãƒã‚¤ã‚¯è¨±å¯è¦æ±‚
   â†“ startTraining() â†’ initMicrophone()å®Ÿè¡Œ
6. ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€‘ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒã‚¤ã‚¯è¨±å¯ç¢ºèªï¼ˆgetUserMediaï¼‰
   â†“ è¨±å¯å¾Œ
7. ã€åŸºéŸ³å†ç”Ÿã€‘2.5ç§’é–“ã®ãƒ”ã‚¢ãƒéŸ³å†ç”Ÿ
   â†“
8. ã€æ¸¬å®šé–‹å§‹ã€‘ãƒ‰ãƒ¬ãƒŸãƒ•ã‚¡ã‚½ãƒ©ã‚·ãƒ‰éŸ³å£°æ¸¬å®š
```

#### **ç¾åœ¨ã®å•é¡Œç‚¹**
- **ãƒã‚¤ã‚¯è¨±å¯ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ã‚¹ãƒ†ãƒƒãƒ—5ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‹ã‚‰è¨±å¯è¦æ±‚
- **UXèª²é¡Œ**: ã€Œæº–å‚™å®Œäº†ã€ã¨æ€ã£ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã‚¯ãƒªãƒƒã‚¯å¾Œã«ã¾ãŸè¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå‡ºç¾
- **ç›®æ¨™**: ã‚¹ãƒ†ãƒƒãƒ—2-3ã®é–“ã§è‡ªå‹•çš„ã«è¨±å¯ã‚’å–å¾—ã—ã€ã‚¹ãƒ†ãƒƒãƒ—5ã§å³åº§ã«é–‹å§‹

#### **å‰Šé™¤å¯¾è±¡ã®ä¸è¦UIè¦ç´ **
- **ãƒã‚¤ã‚¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¢ã‚¤ã‚³ãƒ³**: å‘¨æ³¢æ•°è¡¨ç¤ºå†…ã®`ğŸ™ï¸`ï¼ˆ`getMicrophoneStateIcon()`ï¼‰
- **å ´æ‰€**: `XXX Hz ğŸ™ï¸`ã¨ã—ã¦å³å´15pxé–“éš”ã§è¡¨ç¤º
- **ç†ç”±**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦ç›´æ¥çš„ä¾¡å€¤ãŒä¸æ˜ç¢ºã€UIè¤‡é›‘åŒ–ã®è¦å› 

### 1.2 åˆå›å®Ÿè£…ã‹ã‚‰ã®å­¦ç¿’äº‹é …

**æŠ€è¡“çš„å•é¡Œã®è§£æ±ºç­–**
- **fftSize/smoothingTimeConstant**: å›ºå®šå€¤ï¼ˆ2048, 0.1ï¼‰ä½¿ç”¨
- **PitchDetectoråˆæœŸåŒ–**: Analyzerä½œæˆå¾Œã«å¿…é ˆå®Ÿè¡Œ
- **é‡è¤‡ä½œæˆé˜²æ­¢**: å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚‹å®‰å…¨ãªåˆæœŸåŒ–
- **åˆæœŸåŒ–é †åº**: getUserMedia â†’ AudioContext â†’ Analyzer â†’ MediaStreamSource â†’ PitchDetector

**è¨­è¨ˆåŸå‰‡ã®ç¢ºç«‹**
- **KISSåŸå‰‡**: è¤‡é›‘ãªæ¡ä»¶åˆ†å²ã‚’æ’é™¤
- **å˜ä¸€è²¬ä»»**: ä¸€ã¤ã®é–¢æ•°ã¯ä¸€ã¤ã®è²¬ä»»ã®ã¿
- **çŠ¶æ…‹æœ€å°åŒ–**: ä¸è¦ãªçŠ¶æ…‹å¤‰æ•°ã‚’é¿ã‘ã‚‹
- **ã‚¨ãƒ©ãƒ¼å‡¦ç†çµ±ä¸€**: ä¸€è²«ã—ãŸãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥

### 1.2 ã‚·ãƒ³ãƒ—ãƒ«è¨­è¨ˆæ–¹é‡

#### **åŸºæœ¬æˆ¦ç•¥**
1. **ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³åˆ¶å¾¡**: æº–å‚™å®Œäº†ã¾ã§ç„¡åŠ¹åŒ–
2. **æœ€å°é™UI**: ã‚¨ãƒ©ãƒ¼æ™‚ã®ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
3. **å˜ä¸€åˆæœŸåŒ–çµŒè·¯**: è‡ªå‹•ãƒ»æ‰‹å‹•ã®åŒºåˆ¥ã‚’æœ€å°åŒ–
4. **ç¢ºå®Ÿæ€§å„ªå…ˆ**: è¤‡é›‘ãªæœ€é©åŒ–ã‚ˆã‚Šç¢ºå®Ÿãªå‹•ä½œ

#### **å¤‰æ›´æœ€å°åŒ–**
- **index.html**: URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰æ›´ã®ã¿
- **full-scale-training.js**: åˆæœŸåŒ–å‡¦ç†ã¸ã®æœ€å°é™è¿½åŠ 
- **existing logic**: æ—¢å­˜ã®å®‰å®šã—ãŸãƒ­ã‚¸ãƒƒã‚¯ã¯ä¿æŒ

---

## 2. UIçŠ¶æ…‹é·ç§»è¨­è¨ˆ

### 2.1 æ”¹å–„ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

#### **v2.0 ç›®æ¨™ãƒ•ãƒ­ãƒ¼**
```
1. ã€index.htmlã€‘ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯
   â†“ selectMode('random') â†’ window.location.href = 'full-scale-training.html?mode=random'
2. ã€é·ç§»ã€‘full-scale-training.html?mode=randomèª­ã¿è¾¼ã¿
   â†“ URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åˆ¤å®š
3. ã€è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯ã€‘initializeAutoMicrophone()å®Ÿè¡Œ â˜…æ”¹å–„ï¼šã“ã“ã§è¨±å¯è¦æ±‚
   â†“ (æˆåŠŸ)                    â†“ (å¤±æ•—ãƒ»æ‹’å¦)
4a.ã€æº–å‚™å®Œäº†è¡¨ç¤ºã€‘           4b.ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€‘
   ğŸ¹ ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆç·‘è‰²ï¼‰           ğŸ¹ ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆé’è‰²ï¼‰
   â†“                           â†“
5a.ã€å³åº§é–‹å§‹ã€‘                5b.ã€é€šå¸¸ãƒ•ãƒ­ãƒ¼ã€‘
   ã‚¯ãƒªãƒƒã‚¯â†’åŸºéŸ³å†ç”Ÿ            ã‚¯ãƒªãƒƒã‚¯â†’ãƒã‚¤ã‚¯è¨±å¯â†’åŸºéŸ³å†ç”Ÿ
```

### 2.2 ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³çŠ¶æ…‹ç®¡ç†

```
[ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰: ?mode=random]
    â†“
[ğŸ”„ ãƒã‚¤ã‚¯è‡ªå‹•åˆæœŸåŒ–å®Ÿè¡Œ]
ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³: ç„¡åŠ¹ãƒ»ã‚°ãƒ¬ãƒ¼ãƒ»"ğŸ”„ ãƒã‚¤ã‚¯æº–å‚™ä¸­..."
    â†“ (æˆåŠŸ)      â†“ (å¤±æ•—)
[âœ… æº–å‚™å®Œäº†]    [âš ï¸ æ‰‹å‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯] 
ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³: æœ‰åŠ¹ãƒ»ç·‘ãƒ»"ğŸ¹ ã‚¹ã‚¿ãƒ¼ãƒˆ"  ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³: æœ‰åŠ¹ãƒ»é’ãƒ»"ğŸ¹ ã‚¹ã‚¿ãƒ¼ãƒˆ"
    â†“                      â†“
[å³åº§ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹]      [é€šå¸¸ãƒ•ãƒ­ãƒ¼ï¼šã‚¯ãƒªãƒƒã‚¯æ™‚ãƒã‚¤ã‚¯è¨±å¯]
```

### 2.3 UIè¦ç´ ã®çŠ¶æ…‹å®šç¾©

| çŠ¶æ…‹ | ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ | è¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆ | èƒŒæ™¯è‰² | æ“ä½œå¯èƒ½ |
|------|----------------|--------------|--------|----------|
| **åˆæœŸåŒ–ä¸­** | ç„¡åŠ¹ | "ğŸ”„ ãƒã‚¤ã‚¯æº–å‚™ä¸­..." | ã‚°ãƒ¬ãƒ¼ | âŒ |
| **æº–å‚™å®Œäº†** | æœ‰åŠ¹ | "ğŸ¹ åŸºéŸ³ [éŸ³å] ã§ã‚¹ã‚¿ãƒ¼ãƒˆ" | ç·‘ | âœ… |
| **æ‰‹å‹•å¾…æ©Ÿ** | æœ‰åŠ¹ | "ğŸ¹ åŸºéŸ³ [éŸ³å] ã§ã‚¹ã‚¿ãƒ¼ãƒˆ" | é’ | âœ… |
| **ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹** | æœ‰åŠ¹ | "ğŸ¹ åŸºéŸ³ [éŸ³å] ã§ã‚¹ã‚¿ãƒ¼ãƒˆ" | é’ | âœ… |

### 2.4 ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æˆ¦ç•¥

#### **æˆåŠŸæ™‚**
- ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®è‰²å¤‰æ›´ï¼ˆã‚°ãƒ¬ãƒ¼ â†’ ç·‘ï¼‰
- ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ›´æ–°
- **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºãªã—**ï¼ˆã‚·ãƒ³ãƒ—ãƒ«åŒ–ï¼‰
- **ä¸è¦UIå‰Šé™¤**: ãƒã‚¤ã‚¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆ`ğŸ™ï¸`ï¼‰ã‚’å‰Šé™¤

#### **å¤±æ•—æ™‚**
```javascript
// æœ€å°é™ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã®ã¿
console.log('ğŸ”„ é€šå¸¸ã®ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ãƒ•ãƒ­ãƒ¼ã«åˆ‡ã‚Šæ›¿ãˆ');
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯é€šå¸¸ã®ãƒœã‚¿ãƒ³è¡¨ç¤ºï¼ˆå†…éƒ¨çš„ã«ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Œäº†ï¼‰
```

#### **UIç°¡ç´ åŒ–å¯¾å¿œ**
- **å‰Šé™¤**: `getMicrophoneStateIcon()`é–¢æ•°ã¨ãƒã‚¤ã‚¯ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º
- **å‰Šé™¤å ´æ‰€**: å‘¨æ³¢æ•°è¡¨ç¤ºå†…`XXX Hz ğŸ™ï¸`ã®ğŸ™ï¸éƒ¨åˆ†
- **ç†ç”±**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¾¡å€¤ä¸æ˜ç¢ºã€ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³çŠ¶æ…‹ã§ååˆ†

---

## 3. åˆæœŸåŒ–ã‚·ãƒ¼ã‚±ãƒ³ã‚¹è¨­è¨ˆ

### 3.1 è‡ªå‹•åˆæœŸåŒ–ã‚·ãƒ¼ã‚±ãƒ³ã‚¹

```
ğŸ”„ DOMContentLoaded
    â†“
ğŸ“‹ URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç¢ºèª: ?mode=random
    â†“ (Yes)
ğŸ¤ navigator.mediaDevices.getUserMedia()
    â†“ (è¨±å¯)
ğŸµ AudioContext.createAudioContext()
    â†“
ğŸ” AnalyserNode.create() + fftSize=2048
    â†“
ğŸ¯ PitchDetector.forFloat32Array()
    â†“
ğŸ”— MediaStreamSource â†’ Analyseræ¥ç¶š
    â†“
âœ… ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–
    â†“
ğŸ¹ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒªãƒƒã‚¯å¾…æ©Ÿ
```

### 3.2 ã‚¨ãƒ©ãƒ¼æ™‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

```
âŒ ä»»æ„ã®æ®µéšã§ã‚¨ãƒ©ãƒ¼
    â†“
ğŸ”„ console.log('æ‰‹å‹•ãƒ•ãƒ­ãƒ¼ã«åˆ‡ã‚Šæ›¿ãˆ')
    â†“
âœ… ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–ï¼ˆé€šå¸¸è‰²ï¼‰
    â†“
ğŸ¹ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒªãƒƒã‚¯ â†’ æ—¢å­˜ã®initMicrophone()å®Ÿè¡Œ
```

### 3.3 æŠ€è¡“å®Ÿè£…è©³ç´°

#### **è‡ªå‹•åˆæœŸåŒ–é–¢æ•°**
```javascript
async function initializeAutoMicrophone(app) {
    try {
        // Step 1: MediaStreamå–å¾—
        const stream = await navigator.mediaDevices.getUserMedia({
            audio: { echoCancellation: true, noiseSuppression: true, autoGainControl: true }
        });
        
        // Step 2: AudioContextåˆæœŸåŒ–
        if (!app.audioContext) {
            await app.initAudioContext();
        }
        
        // Step 3: Analyzerä½œæˆ
        if (!app.analyzer) {
            app.analyzer = app.audioContext.createAnalyser();
            app.analyzer.fftSize = 2048;
            app.analyzer.smoothingTimeConstant = 0.1;
        }
        
        // Step 4: MediaStreamSourceä½œæˆãƒ»æ¥ç¶š
        app.microphone = app.audioContext.createMediaStreamSource(stream);
        app.microphone.connect(app.analyzer);
        
        // Step 5: PitchDetectoråˆæœŸåŒ–
        app.initPitchDetector();
        
        // Step 6: ã‚¹ãƒˆãƒªãƒ¼ãƒ ä¿å­˜
        app.mediaStream = stream;
        app.autoMicrophoneReady = true;
        
        return true;
    } catch (error) {
        console.log('ğŸ”„ é€šå¸¸ã®ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ãƒ•ãƒ­ãƒ¼ã«åˆ‡ã‚Šæ›¿ãˆ');
        return false;
    }
}
```

#### **startTrainingä¿®æ­£**
```javascript
async startTraining() {
    // è‡ªå‹•åˆæœŸåŒ–æ¸ˆã¿ã‹ãƒã‚§ãƒƒã‚¯
    if (this.autoMicrophoneReady && this.mediaStream) {
        console.log('âœ… è‡ªå‹•åˆæœŸåŒ–æ¸ˆã¿ - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚¹ã‚­ãƒƒãƒ—');
        this.isRunning = true;
        this.startFrequencyDetection();
    } else {
        console.log('ğŸ¤ é€šå¸¸ã®ãƒã‚¤ã‚¯è¨±å¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ');
        // æ—¢å­˜ã®å‡¦ç†ã‚’ç¶™ç¶š
        await this.initMicrophone();
    }
    
    // æ®‹ã‚Šã¯æ—¢å­˜å‡¦ç†ã¨åŒã˜
    // ...
}
```

---

## 4. ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹åˆ†æ

### 4.1 ãƒã‚¤ã‚¯é–¢é€£ã‚¨ãƒ©ãƒ¼

| ã‚¨ãƒ©ãƒ¼ç¨®é¡ | ç™ºç”Ÿæ¡ä»¶ | å¯¾å‡¦æ³• | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ |
|------------|----------|--------|--------------|
| **NotAllowedError** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨±å¯æ‹’å¦ | é€šå¸¸ãƒ•ãƒ­ãƒ¼ã«åˆ‡æ›¿ | ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³æœ‰åŠ¹ï¼ˆé’ï¼‰ |
| **NotFoundError** | ãƒã‚¤ã‚¯ãƒ‡ãƒã‚¤ã‚¹æœªæ¥ç¶š | é€šå¸¸ãƒ•ãƒ­ãƒ¼ã«åˆ‡æ›¿ | ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³æœ‰åŠ¹ï¼ˆé’ï¼‰ |
| **NotReadableError** | ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚¨ãƒ©ãƒ¼ | é€šå¸¸ãƒ•ãƒ­ãƒ¼ã«åˆ‡æ›¿ | ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³æœ‰åŠ¹ï¼ˆé’ï¼‰ |
| **OverconstrainedError** | åˆ¶ç´„è¨­å®šã‚¨ãƒ©ãƒ¼ | é€šå¸¸ãƒ•ãƒ­ãƒ¼ã«åˆ‡æ›¿ | ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³æœ‰åŠ¹ï¼ˆé’ï¼‰ |

### 4.2 ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§ã‚¨ãƒ©ãƒ¼

| ãƒ–ãƒ©ã‚¦ã‚¶ | å•é¡Œ | å¯¾å‡¦æ³• |
|----------|------|--------|
| **Safari 14+** | Permission APIä¸å®‰å®š | ç›´æ¥getUserMediaä½¿ç”¨ |
| **Firefox 100+** | AudioContext suspend | æ—¢å­˜ã®resume()å‡¦ç†ã§å¯¾å¿œ |
| **Chrome 120+** | HTTPSå¿…é ˆ | æ—¢å­˜å¯¾å¿œæ¸ˆã¿ |
| **iOS Safari** | autoplayåˆ¶é™ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³å¾Œå®Ÿè¡Œ |

### 4.3 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ç’°å¢ƒã‚¨ãƒ©ãƒ¼

| ã‚¨ãƒ©ãƒ¼ | æ¤œå‡ºæ–¹æ³• | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
|--------|----------|----------------|
| **HTTPSæœªå¯¾å¿œ** | getUserMediaä¾‹å¤– | é€šå¸¸ãƒ•ãƒ­ãƒ¼ |
| **å¤ã„ãƒ–ãƒ©ã‚¦ã‚¶** | AudioContextæœªå®šç¾© | é€šå¸¸ãƒ•ãƒ­ãƒ¼ |
| **Pitchyèª­ã¿è¾¼ã¿å¤±æ•—** | window.PitchDetectoræœªå®šç¾© | é€šå¸¸ãƒ•ãƒ­ãƒ¼ |

---

## 5. æŠ€è¡“ä»•æ§˜

### 5.1 å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

#### **index.html** (æœ€å°å¤‰æ›´)
```javascript
// å¤‰æ›´å‰
window.location.href = 'full-scale-training.html?auto=true';

// å¤‰æ›´å¾Œ
window.location.href = 'full-scale-training.html?mode=random';
```

#### **full-scale-training.js** (è¿½åŠ æ©Ÿèƒ½)

**1. æ–°è¦çŠ¶æ…‹ãƒ•ãƒ©ã‚°**
```javascript
constructor() {
    // æ—¢å­˜ãƒ•ãƒ©ã‚°
    this.microphonePermissionGranted = false; // å‰Šé™¤
    
    // æ–°è¦ãƒ•ãƒ©ã‚°ï¼ˆã‚·ãƒ³ãƒ—ãƒ«åŒ–ï¼‰
    this.autoMicrophoneReady = false;
}
```

**2. è‡ªå‹•åˆæœŸåŒ–é–¢æ•°è¿½åŠ **
```javascript
async initializeAutoMicrophone() {
    // ä¸Šè¨˜ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®å®Ÿè£…
}
```

**3. DOMContentLoadedä¿®æ­£**
```javascript
document.addEventListener('DOMContentLoaded', async () => {
    const app = new FullScaleTraining();
    
    // ãƒ¢ãƒ¼ãƒ‰åˆ¤å®š
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('mode') === 'random') {
        const success = await initializeAutoMicrophone(app);
        if (success) {
            updateStartButtonReady();
        }
    }
    
    // æ—¢å­˜åˆæœŸåŒ–ç¶™ç¶š
    initializeAppUI(app);
});
```

### 5.2 UIæ›´æ–°é–¢æ•°

```javascript
function updateStartButtonReady() {
    const startBtn = document.getElementById('main-start-btn');
    if (startBtn) {
        startBtn.style.backgroundColor = '#4CAF50'; // ç·‘è‰²
        startBtn.style.cursor = 'pointer';
        startBtn.disabled = false;
    }
}

function updateStartButtonLoading() {
    const startBtn = document.getElementById('main-start-btn');
    if (startBtn) {
        startBtn.textContent = 'ğŸ”„ ãƒã‚¤ã‚¯æº–å‚™ä¸­...';
        startBtn.style.backgroundColor = '#9E9E9E'; // ã‚°ãƒ¬ãƒ¼
        startBtn.disabled = true;
    }
}
```

---

## 6. å®Ÿè£…è¨ˆç”»

### 6.1 æ®µéšçš„å®Ÿè£… (å„30åˆ†)

#### **Phase A: åŸºç¤å®Ÿè£…** 
- [ ] index.html URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰æ›´
- [ ] è‡ªå‹•åˆæœŸåŒ–é–¢æ•°ä½œæˆ
- [ ] DOMContentLoadedä¿®æ­£
- [ ] åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆ

#### **Phase B: UIæ”¹å–„**
- [ ] ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³çŠ¶æ…‹ç®¡ç†
- [ ] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
- [ ] æˆåŠŸæ™‚UIæ›´æ–°
- [ ] çŠ¶æ…‹é·ç§»ãƒ†ã‚¹ãƒˆ

#### **Phase C: ã‚¨ãƒ©ãƒ¼å‡¦ç†**
- [ ] ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§å¯¾å¿œ
- [ ] ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆ

#### **Phase D: å“è³ªç¢ºèª**
- [ ] å…¨ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª
- [ ] UXãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

### 6.2 ãƒ†ã‚¹ãƒˆæ‰‹é †

#### **æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ**
1. **æ­£å¸¸ç³»**: Chrome latest â†’ ãƒ¢ãƒ¼ãƒ‰é¸æŠ â†’ è‡ªå‹•è¨±å¯ â†’ ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³æœ‰åŠ¹
2. **ã‚¨ãƒ©ãƒ¼ç³»**: ãƒã‚¤ã‚¯è¨±å¯æ‹’å¦ â†’ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ â†’ æ‰‹å‹•è¨±å¯æˆåŠŸ
3. **äº’æ›æ€§**: Safari/Firefox/Edge ã§ã®åŒæ§˜ãƒ†ã‚¹ãƒˆ

#### **UXãƒ†ã‚¹ãƒˆ**
1. **å¿œç­”æ€§**: ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‹ã‚‰çŠ¶æ…‹å¤‰åŒ–ã¾ã§ < 1ç§’
2. **ç›´æ„Ÿæ€§**: çŠ¶æ…‹ãŒãƒœã‚¿ãƒ³ã®è‰²ãƒ»ãƒ†ã‚­ã‚¹ãƒˆã§æ˜ç¢º
3. **ä¿¡é ¼æ€§**: ã‚¨ãƒ©ãƒ¼æ™‚ã§ã‚‚å¿…ãšå‹•ä½œç¶™ç¶š

---

## 7. å“è³ªä¿è¨¼

### 7.1 æˆåŠŸæŒ‡æ¨™

#### **æŠ€è¡“æŒ‡æ¨™**
- [ ] å…¨ãƒ–ãƒ©ã‚¦ã‚¶å‹•ä½œç¢ºèªï¼ˆChrome/Safari/Firefox/Edgeï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ç‡ < 5%ï¼ˆè¨±å¯æ‹’å¦é™¤ãï¼‰
- [ ] ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆåŠŸç‡ 100%
- [ ] åˆæœŸåŒ–æ™‚é–“ < 2ç§’

#### **UXæŒ‡æ¨™**
- [ ] ãƒã‚¤ã‚¯è¨±å¯å›æ•°: 1å›ã®ã¿ï¼ˆæˆåŠŸæ™‚ï¼‰
- [ ] UIçŠ¶æ…‹ã®æ˜ç¢ºæ€§: è‰²ãƒ»ãƒ†ã‚­ã‚¹ãƒˆã§åˆ¤åˆ¥å¯èƒ½
- [ ] æ“ä½œç¶™ç¶šæ€§: ã‚¨ãƒ©ãƒ¼æ™‚ã§ã‚‚ä½¿ç”¨å¯èƒ½

### 7.2 å“è³ªã‚²ãƒ¼ãƒˆ

#### **ã‚³ãƒŸãƒƒãƒˆå‰ãƒã‚§ãƒƒã‚¯**
- [ ] ESLint ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆåˆæ ¼
- [ ] Chrome DevTools ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] æ—¢å­˜æ©Ÿèƒ½ã®å›å¸°ãªã—

#### **ãƒ–ãƒ©ãƒ³ãƒãƒãƒ¼ã‚¸å‰ãƒã‚§ãƒƒã‚¯**
- [ ] å…¨ãƒ–ãƒ©ã‚¦ã‚¶å‹•ä½œç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
- [ ] UXãƒ†ã‚¹ãƒˆåˆæ ¼
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°å®Œäº†

---

## 8. ãƒªã‚¹ã‚¯è»½æ¸›

### 8.1 æŠ€è¡“ãƒªã‚¹ã‚¯å¯¾ç­–

| ãƒªã‚¹ã‚¯ | ç™ºç”Ÿç¢ºç‡ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|----------|--------|------|
| Safariäº’æ›æ€§å•é¡Œ | ä¸­ | ä¸­ | Permission APIä¸ä½¿ç”¨ + ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| åˆæœŸåŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°å•é¡Œ | ä½ | ä½ | DOMContentLoadedå¾Œå®Ÿè¡Œ |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ– | ä½ | ä½ | æœ€å°é™ã®å‡¦ç†è¿½åŠ  |

### 8.2 UXãƒªã‚¹ã‚¯å¯¾ç­–

| ãƒªã‚¹ã‚¯ | ç™ºç”Ÿç¢ºç‡ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|----------|--------|------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼æ··ä¹± | ä½ | ä¸­ | æ˜ç¢ºãªçŠ¶æ…‹è¡¨ç¤º |
| äºˆæœŸã—ãªã„å‹•ä½œ | ä½ | é«˜ | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ |
| ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å•é¡Œ | ä½ | ä½ | æ—¢å­˜åŸºæº–ç¶­æŒ |

---

## 9. å¤‰æ›´å±¥æ­´

| ç‰ˆæ•° | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | æ›´æ–°è€… |
|------|------|----------|--------|
| v2.0 | 2025-07-15 | åˆå›å®Ÿè£…ã®å­¦ç¿’äº‹é …ã‚’æ´»ã‹ã—ãŸå†è¨­è¨ˆç‰ˆä½œæˆ | Claude Code |

---

**æ‰¿èª**
- ä»•æ§˜ç­–å®šè€…: Claude Code
- å®Ÿè£…äºˆå®š: 2025-07-15
- ãƒ¬ãƒ“ãƒ¥ãƒ¼: **å®Ÿè£…å‰æœ€çµ‚ç¢ºèªå®Œäº†**

**ã“ã®ä»•æ§˜æ›¸ã«åŸºã¥ã„ã¦æ®µéšçš„å®Ÿè£…ã‚’é–‹å§‹ã™ã‚‹æº–å‚™å®Œäº†ã€‚**

---

## 10. Phase Aå®Ÿè£…å¾Œã®å•é¡Œç™ºè¦‹ã¨ä¿®æ­£ï¼ˆ2025-07-15è¿½åŠ ï¼‰

### 10.1 ç™ºç”Ÿã—ãŸé‡å¤§å•é¡Œ

#### **ç—‡çŠ¶**
- ãƒšãƒ¼ã‚¸é·ç§»å¾Œã«**å‹æ‰‹ã«åŸºéŸ³ãŒé³´ã‚‹**
- **UIãŒçœŸã£ç™½**ã«ãªã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ„å›³ã—ãªã„è‡ªå‹•ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹

#### **æ ¹æœ¬åŸå› åˆ†æ**
```
ãƒ­ã‚°è§£æçµæœ:
1. ğŸ¤ è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯å®Œäº† â† v2.0æ–°æ©Ÿèƒ½
2. ğŸ¯ ãƒ¢ãƒ¼ãƒ‰é¸æŠã‹ã‚‰ã®ç›´æ¥é·ç§»ã‚’æ¤œå‡º â† æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯  
3. ğŸš€ startTraining() è‡ªå‹•å®Ÿè¡Œ â† æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯
4. âœ… è‡ªå‹•åˆæœŸåŒ–æ¸ˆã¿ - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚¹ã‚­ãƒƒãƒ— â† v2.0æ–°æ©Ÿèƒ½
5. åŸºéŸ³å†ç”Ÿé–‹å§‹ â†’ æ„å›³ã—ãªã„è‡ªå‹•å®Ÿè¡Œ
```

**å•é¡Œ**: æ–°ã—ã„è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯æ©Ÿèƒ½ã¨æ—¢å­˜ã®è‡ªå‹•ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹ãƒ­ã‚¸ãƒƒã‚¯ãŒ**ç«¶åˆ**

### 10.2 ãƒ¢ãƒ¼ãƒ‰åˆ¥ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ ï¼ˆä¿®æ­£ä»•æ§˜ï¼‰

#### **è¨­è¨ˆæ–¹é‡**
- å°†æ¥ã®é€£ç¶š5å›ãƒ¢ãƒ¼ãƒ‰ã€ã‚«ã‚¹ã‚¿ãƒ è¨­å®šãƒ¢ãƒ¼ãƒ‰ã‚’è€ƒæ…®ã—ãŸæ‹¡å¼µå¯èƒ½è¨­è¨ˆ
- ãƒ¢ãƒ¼ãƒ‰åˆ¥ã«è‡ªå‹•é–‹å§‹å¯å¦ã‚’åˆ¶å¾¡
- æ—¢å­˜ã®`?auto=true`ã¨ã®å®Œå…¨äº’æ›æ€§ç¶­æŒ

#### **ãƒ¢ãƒ¼ãƒ‰åˆ¥å‹•ä½œä»•æ§˜è¡¨**
| ãƒ¢ãƒ¼ãƒ‰ | URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | ãƒã‚¤ã‚¯è¨±å¯ | é–‹å§‹æ–¹æ³• | å®Ÿè£…çŠ¶æ³ | ç”¨é€” |
|--------|---------------|------------|----------|----------|------|
| **ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³** | `?mode=random` | è‡ªå‹•è¨±å¯ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒªãƒƒã‚¯ | âœ… v2.0 | å˜ç™ºç·´ç¿’ |
| **é€£ç¶š5å›** | `?mode=continuous` | è‡ªå‹•è¨±å¯ | è‡ªå‹•é–‹å§‹ | ğŸš§ å°†æ¥ | é€£ç¶šç·´ç¿’ |
| **ã‚«ã‚¹ã‚¿ãƒ ** | `?mode=custom` | è‡ªå‹•è¨±å¯ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒªãƒƒã‚¯ | ğŸš§ å°†æ¥ | è¨­å®šç·´ç¿’ |
| **å¾“æ¥auto** | `?auto=true` | å¾“æ¥ãƒ•ãƒ­ãƒ¼ | è‡ªå‹•é–‹å§‹ | âœ… äº’æ›æ€§ç¶­æŒ | æ—¢å­˜æ©Ÿèƒ½ |

#### **æœŸå¾…ã™ã‚‹ä¿®æ­£å¾Œå‹•ä½œ**

**ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰ï¼ˆmode=randomï¼‰**:
```
1. index.html ã§ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ã‚¯ãƒªãƒƒã‚¯
2. ?mode=random ã§ full-scale-training.html é·ç§»
3. è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
4. è¨±å¯å¾Œã€ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ãŒç·‘è‰²ã§æº–å‚™å®Œäº†è¡¨ç¤º
5. â˜… ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ï¼ˆæ‰‹å‹•ï¼‰
6. ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é–‹å§‹ï¼ˆãƒã‚¤ã‚¯è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãªã—ï¼‰
```

**é€£ç¶š5å›ãƒ¢ãƒ¼ãƒ‰ï¼ˆå°†æ¥å®Ÿè£…ï¼‰**:
```
1. index.html ã§é€£ç¶š5å›ã‚¯ãƒªãƒƒã‚¯  
2. ?mode=continuous ã§é·ç§»
3. è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
4. è¨±å¯å¾Œã€å³åº§ã«ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è‡ªå‹•é–‹å§‹
5. 5å›é€£ç¶šã§è‡ªå‹•å®Ÿè¡Œ
```

### 10.3 æŠ€è¡“å®Ÿè£…ä»•æ§˜ï¼ˆä¿®æ­£ç‰ˆï¼‰

#### **ãƒ¢ãƒ¼ãƒ‰è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**
```javascript
const MODE_CONFIG = {
    'random': {
        autoMicrophone: true,      // è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯
        autoStart: false,          // æ‰‹å‹•ã‚¹ã‚¿ãƒ¼ãƒˆ â˜…é‡è¦
        displayStartButton: true,  // ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³è¡¨ç¤º
        description: 'ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ¢ãƒ¼ãƒ‰'
    },
    'continuous': {               // å°†æ¥å®Ÿè£…
        autoMicrophone: true,      // è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯
        autoStart: true,           // è‡ªå‹•é–‹å§‹
        displayStartButton: false, // ãƒœã‚¿ãƒ³ä¸è¦
        description: 'é€£ç¶š5å›ãƒ¢ãƒ¼ãƒ‰'
    },
    'custom': {                   // å°†æ¥å®Ÿè£…
        autoMicrophone: true,      // è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯
        autoStart: false,          // æ‰‹å‹•ã‚¹ã‚¿ãƒ¼ãƒˆ
        displayStartButton: true,  // ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³è¡¨ç¤º
        description: 'ã‚«ã‚¹ã‚¿ãƒ è¨­å®šãƒ¢ãƒ¼ãƒ‰'
    }
};
```

#### **çµ±ä¸€åˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼ï¼ˆä¿®æ­£ç‰ˆï¼‰**
```javascript
async function initializeApp() {
    const app = new FullScaleTraining();
    const urlParams = new URLSearchParams(window.location.search);
    const currentMode = urlParams.get('mode');
    const config = MODE_CONFIG[currentMode];
    
    if (config) {
        // v2.0+: æ–°ãƒ¢ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 
        console.log(`ğŸ¯ ãƒ¢ãƒ¼ãƒ‰: ${currentMode} (${config.description})`);
        
        if (config.autoMicrophone) {
            // è‡ªå‹•ãƒã‚¤ã‚¯è¨±å¯å®Ÿè¡Œ
            const success = await initializeAutoMicrophone(app);
            // UIçŠ¶æ…‹æ›´æ–°
        }
        
        if (config.autoStart) {
            // é€£ç¶š5å›ãƒ¢ãƒ¼ãƒ‰ç­‰: è‡ªå‹•é–‹å§‹
            setTimeout(() => app.startTraining(), 500);
        } else if (config.displayStartButton) {
            // ãƒ©ãƒ³ãƒ€ãƒ åŸºéŸ³ãƒ»ã‚«ã‚¹ã‚¿ãƒ : ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³è¡¨ç¤ºãƒ»å¾…æ©Ÿ
            document.getElementById('start-btn').style.display = 'inline-block';
        }
        
        // â˜…é‡è¦: æ—¢å­˜ã®è‡ªå‹•é–‹å§‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç„¡åŠ¹åŒ–
        return; // æ—¢å­˜å‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—
    } else {
        // å¾“æ¥ã‚·ã‚¹ãƒ†ãƒ  (auto=trueç­‰) ç¶™ç¶š
        // æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè¡Œ
    }
}
```

### 10.4 ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è‰²ã‚·ã‚¹ãƒ†ãƒ è¿½åŠ ä»•æ§˜

#### **ãƒãƒ¼ã‚¸ãƒ§ãƒ³é€£å‹•8è‰²ãƒ«ãƒ¼ãƒ—ã‚·ã‚¹ãƒ†ãƒ **
```javascript
const VERSION_COLORS = [
    '#2196F3', // é’ - v1.0.x
    '#4CAF50', // ç·‘ - v1.1.x  
    '#FF9800', // ã‚ªãƒ¬ãƒ³ã‚¸ - v1.2.x (ç¾åœ¨)
    '#9C27B0', // ç´« - v1.3.x (æ¬¡æœŸ)
    '#F44336', // èµ¤ - v1.4.x
    '#00BCD4', // ã‚·ã‚¢ãƒ³ - v1.5.x
    '#795548', // èŒ¶ - v1.6.x
    '#607D8B'  // ã‚°ãƒ¬ãƒ¼ - v1.7.xâ†’v1.8.xä»¥é™ãƒ«ãƒ¼ãƒ—
];

function getTimestampColor() {
    // full-scale-training.js ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‹ã‚‰å–å¾—
    const version = this.version?.app || 'v1.2.0';
    const minorVersion = parseInt(version.split('.')[1]); // 1.2.0 â†’ 2
    return VERSION_COLORS[minorVersion % 8]; // 8è‰²ãƒ«ãƒ¼ãƒ—
}
```

---

## 11. å¤‰æ›´å±¥æ­´ï¼ˆæ›´æ–°ï¼‰

| ç‰ˆæ•° | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | æ›´æ–°è€… |
|------|------|----------|--------|
| v2.0 | 2025-07-15 | åˆå›å®Ÿè£…ã®å­¦ç¿’äº‹é …ã‚’æ´»ã‹ã—ãŸå†è¨­è¨ˆç‰ˆä½œæˆ | Claude Code |
| v2.1 | 2025-07-15 | Phase Aå®Ÿè£…å¾Œå•é¡Œåˆ†æãƒ»ãƒ¢ãƒ¼ãƒ‰åˆ¥ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ è¿½åŠ  | Claude Code |

---

**æ‰¿èª**
- ä»•æ§˜ç­–å®šè€…: Claude Code
- Phase Aå®Ÿè£…: 2025-07-15å®Œäº†
- Phase Aå•é¡Œç™ºè¦‹: 2025-07-15
- ä¿®æ­£ä»•æ§˜ç­–å®š: 2025-07-15
- ãƒ¬ãƒ“ãƒ¥ãƒ¼: **ä¿®æ­£å®Ÿè£…å‰æœ€çµ‚ç¢ºèªå®Œäº†**

**ãƒ¢ãƒ¼ãƒ‰åˆ¥ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹ä¿®æ­£å®Ÿè£…æº–å‚™å®Œäº†ã€‚**